<story path="stories/FinUA_summary_Of_Exchange_Rates/FinUA_checkRatesSummaryCalc_EUR.story" title="Check calculation of summary exchange rates for EUR-UAH">
<narrative keyword="Narrative:">
  <inOrderTo keyword="In order to">check calculation of exchange rates in summary table</inOrderTo>
  <asA keyword="As a">n user</asA>
  <iWantTo keyword="I want to">calc summary rates of EUR currency based on collection of rates from each bank and compare with summary table</iWantTo>
</narrative>
<scenario keyword="Scenario:" title="Checking switching to EUR-UAH bank&apos;s rates data">
<step outcome="successful">Given the user is on the finance.i.ua home page</step>
<step outcome="successful">When the user click on &apos;EUR&apos; button</step>
<step outcome="successful">Then &apos;EUR&apos; rates are shown</step>
</scenario>
<scenario keyword="Scenario:" title="Checking calculation of MAXIMUM EUR-UAH rates based on bank&apos;s rates data">
<step outcome="successful">Given the user is on the finance.i.ua home page</step>
<step outcome="successful">When the user click on &apos;EUR&apos; button</step>
<step outcome="successful">Then &apos;EUR&apos; rates are shown</step>
<step outcome="successful">Then maximum value of BID rate in bank&apos;s table is equal to maximum value of BID rate in summary table</step>
<step outcome="failed" keyword="FAILED">Then maximum value of ASK rate in bank&apos;s table is equal to maximum value of ASK rate in summary table<failure>java.lang.AssertionError: Calculated value is not equal to the value from summary table
Expected: is &lt;30.6&gt;
     but: was &lt;34.0&gt;</failure></step>
<failure>java.lang.AssertionError: Calculated value is not equal to the value from summary table
Expected: is &lt;30.6&gt;
     but: was &lt;34.0&gt;
	at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)
	at EPAM.steps.serenity.FinUa_EndUserSteps.verifyCalculation_EUR_MAX_ASK(FinUa_EndUserSteps.java:110)
	at EPAM.steps.serenity.FinUa_EndUserSteps$$EnhancerByCGLIB$$b35907a3.CGLIB$verifyCalculation_EUR_MAX_ASK$10(&lt;generated&gt;)
	at EPAM.steps.serenity.FinUa_EndUserSteps$$EnhancerByCGLIB$$b35907a3$$FastClassByCGLIB$$4c197140.invoke(&lt;generated&gt;)
	at net.sf.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228)
	at net.thucydides.core.steps.StepInterceptor.invokeMethod(StepInterceptor.java:348)
	at net.thucydides.core.steps.StepInterceptor.executeTestStepMethod(StepInterceptor.java:333)
	at net.thucydides.core.steps.StepInterceptor.runTestStep(StepInterceptor.java:308)
	at net.thucydides.core.steps.StepInterceptor.testStepResult(StepInterceptor.java:130)
	at net.thucydides.core.steps.StepInterceptor.intercept(StepInterceptor.java:57)
	at EPAM.steps.serenity.FinUa_EndUserSteps$$EnhancerByCGLIB$$b35907a3.verifyCalculation_EUR_MAX_ASK(&lt;generated&gt;)
	at EPAM.steps.FinUA_DefinitionStep.verifyCalculation_EUR_MAX_ASK(FinUA_DefinitionStep.java:86)
	(reflection-invoke)
	at org.jbehave.core.steps.StepCreator$ParametrisedStep.perform(StepCreator.java:595)
	at org.jbehave.core.embedder.StoryRunner$FineSoFar.run(StoryRunner.java:566)
...</failure>
</scenario>
<scenario keyword="Scenario:" title="Checking calculation of AVERAGE EUR-UAH rates based on bank&apos;s rates data">
<step outcome="successful">Given the user is on the finance.i.ua home page</step>
<step outcome="successful">When the user click on &apos;EUR&apos; button</step>
<step outcome="successful">Then &apos;EUR&apos; rates are shown</step>
<step outcome="successful">Then calculated avg BID rate is equal to avg BID value from summary block</step>
<step outcome="failed" keyword="FAILED">Then calculated avg ASK rate is equal to avg ASK value from summary block<failure>java.lang.AssertionError: Calculated value is not equal to the value from summary table
Expected: is &lt;30.1291&gt;
     but: was &lt;30.2464&gt;</failure></step>
<failure>java.lang.AssertionError: Calculated value is not equal to the value from summary table
Expected: is &lt;30.1291&gt;
     but: was &lt;30.2464&gt;
	at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)
	at EPAM.steps.serenity.FinUa_EndUserSteps.verifyCalculation_EUR_AVG_ASK(FinUa_EndUserSteps.java:77)
	at EPAM.steps.serenity.FinUa_EndUserSteps$$EnhancerByCGLIB$$b35907a3.CGLIB$verifyCalculation_EUR_AVG_ASK$6(&lt;generated&gt;)
	at EPAM.steps.serenity.FinUa_EndUserSteps$$EnhancerByCGLIB$$b35907a3$$FastClassByCGLIB$$4c197140.invoke(&lt;generated&gt;)
	at net.sf.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228)
	at net.thucydides.core.steps.StepInterceptor.invokeMethod(StepInterceptor.java:348)
	at net.thucydides.core.steps.StepInterceptor.executeTestStepMethod(StepInterceptor.java:333)
	at net.thucydides.core.steps.StepInterceptor.runTestStep(StepInterceptor.java:308)
	at net.thucydides.core.steps.StepInterceptor.testStepResult(StepInterceptor.java:130)
	at net.thucydides.core.steps.StepInterceptor.intercept(StepInterceptor.java:57)
	at EPAM.steps.serenity.FinUa_EndUserSteps$$EnhancerByCGLIB$$b35907a3.verifyCalculation_EUR_AVG_ASK(&lt;generated&gt;)
	at EPAM.steps.FinUA_DefinitionStep.verifyCalculation_EUR_AVG_ASK(FinUA_DefinitionStep.java:66)
	(reflection-invoke)
	at org.jbehave.core.steps.StepCreator$ParametrisedStep.perform(StepCreator.java:595)
	at org.jbehave.core.embedder.StoryRunner$FineSoFar.run(StoryRunner.java:566)
...</failure>
</scenario>
<scenario keyword="Scenario:" title="Checking calculation of MINIMUM EUR-UAH rates based on bank&apos;s rates data">
<step outcome="successful">Given the user is on the finance.i.ua home page</step>
<step outcome="successful">When the user click on &apos;EUR&apos; button</step>
<step outcome="successful">Then &apos;EUR&apos; rates are shown</step>
<step outcome="successful">Then minimum value of BID rate in bank&apos;s table is equal to minimum value of BID rate in summary table</step>
<step outcome="successful">Then minimum value of ASK rate in bank&apos;s table is equal to minimum value of ASK rate in summary table</step>
</scenario>
<scenario keyword="Scenario:" title="Checking calculation of OPTIMAL EUR-UAH rates based on bank&apos;s rates data">
<step outcome="successful">Given the user is on the finance.i.ua home page</step>
<step outcome="successful">When the user click on &apos;EUR&apos; button</step>
<step outcome="successful">Then &apos;EUR&apos; rates are shown</step>
<step outcome="successful">Then optimal value of BID rate in summary table is equal to maximum value of BID rate in summary table</step>
<step outcome="successful">Then optimal value of ASK rate in summary table is equal to minimum value of ASK rate in summary table</step>
</scenario>
</story>
